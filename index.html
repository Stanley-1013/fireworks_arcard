<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>çµ¦ç§ˆç‘€çš„é©šå–œ</title>
    <meta name="description" content="A special fireworks card.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #000;
        }
        
        .controls {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }
        
        .btn {
            padding: 10px 20px;
            background: #ff6b6b;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .btn:hover {
            background: #ff5252;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="btn" onclick="toggleFireworks()">ğŸ† æ’­æ”¾/æš«åœç…™ç«</button>
        <button class="btn" onclick="showMessage()">ğŸ’ é¡¯ç¤ºç¥ç¦</button>
    </div>

    <a-scene 
        background="color: #000022" 
        vr-mode-ui="enabled: false">
        
        <a-assets>
            <img id="message" src="./message.png">
            <a-asset-item id="fireworks-model" src="./fireworks.glb"></a-asset-item>
        </a-assets>
        
        <!-- åŸºæœ¬å…‰æº -->
        <a-light type="ambient" color="#ffffff" intensity="0.5"></a-light>
        <a-light type="directional" position="0 1 0" color="#ffffff" intensity="0.5"></a-light>
        
        <!-- ç…™ç«æ¨¡å‹ - ç°¡åŒ–è¨­ç½® -->
        <a-gltf-model 
            id="fireworks"
            src="#fireworks-model" 
            position="0 0 -3"
            scale="1 1 1"
            animation-mixer="clip: *; loop: repeat"
            visible="true">
        </a-gltf-model>
        
        <!-- ç¥ç¦åœ–ç‰‡ -->
        <a-image 
            id="blessing-message"
            src="#message" 
            position="0 2 -3" 
            scale="2 1 1" 
            material="transparent: true"
            visible="false">
        </a-image>
        
        <!-- ç°¡å–®ç›¸æ©Ÿ -->
        <a-camera 
            position="0 1.6 0"
            look-controls="enabled: true">
        </a-camera>
        
    </a-scene>

    <script>
        let fireworksVisible = true;
        let messageVisible = false;
        
        function toggleFireworks() {
            const fireworks = document.querySelector('#fireworks');
            fireworksVisible = !fireworksVisible;
            fireworks.setAttribute('visible', fireworksVisible);
            
            console.log('ç…™ç«é¡¯ç¤ºç‹€æ…‹:', fireworksVisible);
        }
        
        function showMessage() {
            const message = document.querySelector('#blessing-message');
            messageVisible = !messageVisible;
            message.setAttribute('visible', messageVisible);
            
            console.log('ç¥ç¦èªé¡¯ç¤ºç‹€æ…‹:', messageVisible);
        }
        
        // æª¢æŸ¥æ¨¡å‹è¼‰å…¥ç‹€æ…‹
        document.querySelector('#fireworks').addEventListener('model-loaded', () => {
            console.log('âœ… ç…™ç«æ¨¡å‹è¼‰å…¥æˆåŠŸ');
        });
        
        document.querySelector('#fireworks').addEventListener('model-error', (e) => {
            console.error('âŒ ç…™ç«æ¨¡å‹è¼‰å…¥å¤±æ•—:', e.detail);
            alert('ç…™ç«æ¨¡å‹è¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ fireworks.glb æª”æ¡ˆæ˜¯å¦å­˜åœ¨æ–¼æ­£ç¢ºä½ç½®');
        });
        
        // æª¢æŸ¥åœ–ç‰‡è¼‰å…¥
        document.querySelector('#blessing-message').addEventListener('materialtextureloaded', () => {
            console.log('âœ… ç¥ç¦åœ–ç‰‡è¼‰å…¥æˆåŠŸ');
        });
    </script>
</body>
</html>
